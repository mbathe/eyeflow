"use strict";(self.webpackChunkeyeflow_docs=self.webpackChunkeyeflow_docs||[]).push([[492],{5680:function(e,t,a){a.d(t,{xA:function(){return p},yg:function(){return d}});var n=a(6540);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef(function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),g=c(a),y=i,d=g["".concat(s,".").concat(y)]||g[y]||u[y]||r;return a?n.createElement(d,l(l({ref:t},p),{},{components:a})):n.createElement(d,l({ref:t},p))});function d(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=y;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[g]="string"==typeof e?e:i,l[1]=o;for(var c=2;c<r;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},6326:function(e,t,a){a.r(t),a.d(t,{assets:function(){return s},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return r},metadata:function(){return o},toc:function(){return c}});var n=a(8168),i=(a(6540),a(5680));const r={sidebar_position:7,title:"Security Sandbox",description:"Closed-world security model and threat mitigation"},l="Security Sandbox",o={unversionedId:"technical-deep-dive/security-sandbox",id:"technical-deep-dive/security-sandbox",title:"Security Sandbox",description:"Closed-world security model and threat mitigation",source:"@site/docs/technical-deep-dive/security-sandbox.md",sourceDirName:"technical-deep-dive",slug:"/technical-deep-dive/security-sandbox",permalink:"/eyeflow/fr/docs/technical-deep-dive/security-sandbox",draft:!1,editUrl:"https://github.com/eyeflow-ai/eyeflow-docs/tree/main/docs/technical-deep-dive/security-sandbox.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"Security Sandbox",description:"Closed-world security model and threat mitigation"},sidebar:"tutorialSidebar",previous:{title:"Edge Computing & IoT",permalink:"/eyeflow/fr/docs/technical-deep-dive/edge-computing"},next:{title:"Performance Benchmarking",permalink:"/eyeflow/fr/docs/technical-deep-dive/performance-benchmarking"}},s={},c=[{value:"Threat Model",id:"threat-model",level:2},{value:"Identified Threats",id:"identified-threats",level:3},{value:"Security Layers",id:"security-layers",level:2},{value:"Layer 1: Task Validation",id:"layer-1-task-validation",level:3},{value:"Layer 2: Compilation",id:"layer-2-compilation",level:3},{value:"Layer 3: Sandboxing",id:"layer-3-sandboxing",level:3},{value:"Layer 4: Connector Isolation",id:"layer-4-connector-isolation",level:3},{value:"Layer 5: Audit Logging",id:"layer-5-audit-logging",level:3},{value:"Specific Threat Mitigations",id:"specific-threat-mitigations",level:2},{value:"Threat 1: Malicious Task Code",id:"threat-1-malicious-task-code",level:3},{value:"Threat 2: Service Injection",id:"threat-2-service-injection",level:3},{value:"Threat 3: Data Exfiltration (Logging)",id:"threat-3-data-exfiltration-logging",level:3},{value:"Threat 4: Resource Exhaustion",id:"threat-4-resource-exhaustion",level:3},{value:"Threat 5: Privilege Escalation",id:"threat-5-privilege-escalation",level:3},{value:"Threat 6: Side-Channel Attacks (Timing)",id:"threat-6-side-channel-attacks-timing",level:3},{value:"Permission Model",id:"permission-model",level:2},{value:"Permission Levels",id:"permission-levels",level:3},{value:"Permission Configuration",id:"permission-configuration",level:3},{value:"Runtime Permission Check",id:"runtime-permission-check",level:3},{value:"Data Isolation",id:"data-isolation",level:2},{value:"Policy: Minimum Privilege",id:"policy-minimum-privilege",level:3},{value:"Credential Segregation",id:"credential-segregation",level:3},{value:"Data Encryption",id:"data-encryption",level:3},{value:"Anomaly Detection",id:"anomaly-detection",level:2},{value:"Behavioral Patterns Monitored",id:"behavioral-patterns-monitored",level:3},{value:"Anomaly Example",id:"anomaly-example",level:3},{value:"Secure Output",id:"secure-output",level:2},{value:"Output Filtering",id:"output-filtering",level:3},{value:"Output Audit",id:"output-audit",level:3},{value:"Compliance",id:"compliance",level:2},{value:"Standards Supported",id:"standards-supported",level:3},{value:"Audit Capabilities",id:"audit-capabilities",level:3},{value:"Testing &amp; Verification",id:"testing--verification",level:2},{value:"Security Testing",id:"security-testing",level:3},{value:"Roadmap: Security v3.0",id:"roadmap-security-v30",level:2}],p={toc:c},g="wrapper";function u({components:e,...t}){return(0,i.yg)(g,(0,n.A)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"security-sandbox"},"Security Sandbox"),(0,i.yg)("p",null,"EyeFlow's multi-layer security sandbox prevents unauthorized access and data breaches."),(0,i.yg)("h2",{id:"threat-model"},"Threat Model"),(0,i.yg)("h3",{id:"identified-threats"},"Identified Threats"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Malicious Task Code"),": Task definition tries to access restricted resources"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Service Injection"),": Task tries to call non-existent services"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Data Exfiltration"),": Task tries to leak sensitive data"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Resource Exhaustion"),": Task tries to consume unlimited resources"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Privilege Escalation"),": Task tries to gain elevated permissions"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"Side-Channel Attacks"),": Task tries to exploit timing to extract secrets")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"security-layers"},"Security Layers"),(0,i.yg)("h3",{id:"layer-1-task-validation"},"Layer 1: Task Validation"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Input: Task definition (JSON/YAML)\nChecks:\n  1. Syntax validation (well-formed JSON/YAML)\n  2. Schema validation (required fields present)\n  3. Service check (all services in catalog)\n  4. Input check (all inputs defined)\n  5. Output check (no undefined outputs)\n\nIf any check fails:\n  \u2192 Task rejected before compilation\n  \u2192 Error returned to user\n  \u2192 No code execution attempted\n")),(0,i.yg)("h3",{id:"layer-2-compilation"},"Layer 2: Compilation"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Compilation checks:\n  1. Type checking (all types consistent)\n  2. Service verification (all services exist)\n  3. Capability verification (all capabilities exist)\n  4. Input validation (I/O types match)\n  5. Bounds checking (loops/recursion bounded)\n\nIf any check fails:\n  \u2192 Bytecode rejected\n  \u2192 Error returned to user\n  \u2192 No code execution attempted\n")),(0,i.yg)("h3",{id:"layer-3-sandboxing"},"Layer 3: Sandboxing"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Bytecode execution in sandbox:\n  1. Resource limits enforced\n  2. File system access denied\n  3. Network access restricted\n  4. System calls blocked\n  5. Privilege escalation blocked\n\nAllowed only:\n  - Register operations\n  - Service connector calls (pre-approved)\n  - Memory operations (bounded)\n")),(0,i.yg)("h3",{id:"layer-4-connector-isolation"},"Layer 4: Connector Isolation"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Each service connector:\n  1. Runs as separate process (if possible)\n  2. Only has credentials for that service\n  3. Rate-limited (per service)\n  4. Monitored for anomalies\n  5. Killable if misbehaving\n\nExample:\n  Slack connector:\n    - Environment: SLACK_BOT_TOKEN only\n    - Can do: Send Slack messages\n    - Cannot do: Access database, file system, other services\n")),(0,i.yg)("h3",{id:"layer-5-audit-logging"},"Layer 5: Audit Logging"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Every action logged:\n  - Task execution (what ran)\n  - Service calls (which services called)\n  - Data access (what data was accessed)\n  - Errors (what failed)\n  - Results (what was produced)\n\nRetention: 90 days (encrypted storage)\nAccess: Authorized users only (with audit trail)\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"specific-threat-mitigations"},"Specific Threat Mitigations"),(0,i.yg)("h3",{id:"threat-1-malicious-task-code"},"Threat 1: Malicious Task Code"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Write task that tries to read /etc/passwd"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "malicious_task",\n  "actions": [\n    {\n      "type": "read_file",\n      "path": "/etc/passwd"\n    }\n  ]\n}\n')),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigation"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Catalog check"),": read_file not in catalog"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Compilation error: \"Service 'file_system' not available\""),(0,i.yg)("li",{parentName:"ul"},"Task rejected"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Impossible to bypass"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"No way to invoke services not in catalog"),(0,i.yg)("li",{parentName:"ul"},"LLM cannot import arbitrary libraries"),(0,i.yg)("li",{parentName:"ul"},"Bytecode cannot execute OS calls directly")))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack blocked before execution \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h3",{id:"threat-2-service-injection"},"Threat 2: Service Injection"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Try to call fake service"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'Task: "Call service database.steal_all_data"\n')),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigation"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Catalog check"),": steal_all_data not in database.* capabilities"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Compilation error: \"Capability 'steal_all_data' not found\""))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Runtime check"),": Even if bytecode was manually crafted"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"SVM validates all service calls before execution"),(0,i.yg)("li",{parentName:"ul"},"Unknown service \u2192 Execution error"),(0,i.yg)("li",{parentName:"ul"},"No fallback to system calls")))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack blocked \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h3",{id:"threat-3-data-exfiltration-logging"},"Threat 3: Data Exfiltration (Logging)"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Task logs sensitive data to public endpoint"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'Task: "Fetch password from database then POST to attacker.com"\n')),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigations"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Service isolation"),": "),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Task can POST to pre-configured endpoints only"),(0,i.yg)("li",{parentName:"ul"},"Cannot add new endpoints at runtime"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Audit logging"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"All POST calls logged with destination"),(0,i.yg)("li",{parentName:"ul"},"Suspicious patterns detected:",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Multiple requests to unknown IPs"),(0,i.yg)("li",{parentName:"ul"},"Unusual data volumes"),(0,i.yg)("li",{parentName:"ul"},"Off-hours activity"))))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Rate limiting"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Max 100 requests per task"),(0,i.yg)("li",{parentName:"ul"},"Max 1MB data per task"),(0,i.yg)("li",{parentName:"ul"},"Exceeding limits \u2192 Task terminated"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Data classification"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Sensitive fields labeled in schema"),(0,i.yg)("li",{parentName:"ul"},"Task cannot SELECT sensitive fields without approval"),(0,i.yg)("li",{parentName:"ul"},"Audit alert if sensitive field accessed")))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack detected and prevented \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h3",{id:"threat-4-resource-exhaustion"},"Threat 4: Resource Exhaustion"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Create infinite loop to exhaust CPU"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Bytecode (manually crafted):\n  FOR_EACH i 0 999999999 (9.99B iterations)\n    COMPUTE something\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigations"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Compile-time check"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Loop bounds checked: 999999999 > limit (1M)"),(0,i.yg)("li",{parentName:"ul"},'Bytecode rejected: "Loop exceeds bounds"'))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Runtime check")," (if somehow accepted):"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Timeout enforced: 5 minutes max"),(0,i.yg)("li",{parentName:"ul"},"Memory limit: 100MB max"),(0,i.yg)("li",{parentName:"ul"},"CPU throttling: Can be enabled per task"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Monitoring"),":"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Task resource usage monitored"),(0,i.yg)("li",{parentName:"ul"},"Unusual patterns detected (e.g., 90% CPU for 5min)"),(0,i.yg)("li",{parentName:"ul"},"Alert sent to admin")))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack blocked before execution \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h3",{id:"threat-5-privilege-escalation"},"Threat 5: Privilege Escalation"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Try to run code as root or escalate privileges"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Bytecode (manually crafted):\n  SYSCALL exec sudo\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigations"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"No system calls available"),": SVM doesn't support SYSCALL instruction"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"No sudo"),": Task runs as unprivileged user (eyeflow-sandbox)"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"No file write"),": Cannot write to system directories"),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("strong",{parentName:"li"},"No process spawning"),": Cannot spawn child processes")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack impossible by design \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h3",{id:"threat-6-side-channel-attacks-timing"},"Threat 6: Side-Channel Attacks (Timing)"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Attack"),": Measure execution time to infer secret values"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task: \"Check if API_KEY starts with 'A' by timing execution\"\n  - If API starts with 'A': StringComparison takes 5\u03bcs\n  - If not: Short-circuits in 1\u03bcs\n  - Attacker infers secret from timing\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Mitigations"),":"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Constant-time operations"),": All comparisons use constant-time algorithms"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"String comparison: Always same time (timing-safe)"),(0,i.yg)("li",{parentName:"ul"},"Number comparison: Always same time (timing-safe)"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Execution time variability"),": Inherent network variance (50-100ms)"),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"Timing variation >> side-channel signal"),(0,i.yg)("li",{parentName:"ul"},"No meaningful information leakable"))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("strong",{parentName:"p"},"Access control"),": "),(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"API keys stored in secret management system"),(0,i.yg)("li",{parentName:"ul"},"Task cannot directly access API keys"),(0,i.yg)("li",{parentName:"ul"},"Only service connectors have credentials")))),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Result"),": Attack ineffective \u2713"),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"permission-model"},"Permission Model"),(0,i.yg)("h3",{id:"permission-levels"},"Permission Levels"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Level 0: No Access (Default)")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task cannot:\n  - Call this service\n  - Access this data\n  - Perform this operation\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Level 1: Limited Access")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task can:\n  - Call service with rate limiting (e.g., 10/min)\n  - Read public data only\n  - Cannot write/delete\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Level 2: Standard Access")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task can:\n  - Call service normally\n  - Read/write data\n  - Subject to audit logging\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Level 3: Elevated Access")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task can:\n  - Call service without rate limiting\n  - Access sensitive data\n  - Requires admin approval\n  - Detailed audit logging\n")),(0,i.yg)("h3",{id:"permission-configuration"},"Permission Configuration"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "permissions": {\n    "slack": "level2",\n    "postgresql": {\n      "read": "level2",\n      "write": "level1",\n      "delete": "level0"\n    },\n    "stripe": {\n      "read_transactions": "level2",\n      "create_charge": "level3",\n      "refund": "level0"\n    },\n    "openai": "level0"\n  }\n}\n')),(0,i.yg)("h3",{id:"runtime-permission-check"},"Runtime Permission Check"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Task tries: CALL_SERVICE stripe.create_charge\nChecks:\n  1. Service stripe: Exists? Yes\n  2. Capability create_charge: Exists? Yes\n  3. Task authorized? Check permission: level3\n  4. User authenticated? Yes\n  5. User has level3 permission? Check...\n     - If yes: Allow\n     - If no: Deny + Log + Alert\n  6. Rate limit check: (this hour) 5/5 used?\n     - If no: Allow + Increment counter\n     - If yes: Deny + Log + Alert\n\nResult: Allow or Deny with detailed reason\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"data-isolation"},"Data Isolation"),(0,i.yg)("h3",{id:"policy-minimum-privilege"},"Policy: Minimum Privilege"),(0,i.yg)("p",null,"Each task gets only what it needs:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'Task: "Process customer orders"\nPermissions:\n  \u2713 Read: orders table\n  \u2713 Write: order_processed table\n  \u2717 Read: passwords table\n  \u2717 Read: credit_cards table\n  \u2717 Read: customer_emails table\n\nAttempted access:\n  - Task tries: SELECT * FROM passwords\n  - Result: Permission denied + Logged + Alert\n\nAttack prevented: No data exfiltration possible\n')),(0,i.yg)("h3",{id:"credential-segregation"},"Credential Segregation"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Each service has separate credentials:\n  - Slack bot token: Only used by Slack connector\n  - Database password: Only used by Database connector\n  - Stripe API key: Only used by Stripe connector\n\nIf one credential is leaked:\n  - Only one service compromised\n  - Others remain secure\n  - Attacker can't access multiple services\n  - Lateral movement prevented\n")),(0,i.yg)("h3",{id:"data-encryption"},"Data Encryption"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Storage:\n  - Task definitions: AES-256 encrypted at rest\n  - Results: Encrypted if sensitive\n  - Credentials: Encrypted in vault\n\nTransport:\n  - All connections: TLS 1.3 minimum\n  - Certificate pinning: Enabled\n  - Perfect forward secrecy: Enabled\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"anomaly-detection"},"Anomaly Detection"),(0,i.yg)("h3",{id:"behavioral-patterns-monitored"},"Behavioral Patterns Monitored"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Per-task:\n  - Request rate (requests/minute)\n  - Data volume (bytes transferred)\n  - Service calls (which services, how many)\n  - Error patterns (failures, retries)\n  - Execution duration (latency)\n\nPer-user:\n  - Task creation rate\n  - Service permissions requested\n  - Data accessed\n  - Execution patterns\n")),(0,i.yg)("h3",{id:"anomaly-example"},"Anomaly Example"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Normal Pattern"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Order processing task (8 AM - 5 PM, weekdays):\n  - Slack: 10 calls/minute\n  - Database: 5 queries/minute\n  - Stripe: 2 charges/minute\n  - Data: 1MB/hour\n  - Duration: 50ms \xb1 10ms\n")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Detected Anomaly"),":"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"Same task at 3 AM, Saturday:\n  - Slack: 1000 calls/minute [ANOMALY]\n  - Database: 500 queries/minute [ANOMALY]\n  - Stripe: 50 charges/minute [ANOMALY]\n  - Data: 1GB/hour [ANOMALY]\n  - Duration: 5s + [ANOMALY]\n\nAction: Task paused + Alert admin + Log incident\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"secure-output"},"Secure Output"),(0,i.yg)("h3",{id:"output-filtering"},"Output Filtering"),(0,i.yg)("p",null,"Sensitive data removed from outputs:"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "task_output": {\n    "customer_id": "123",\n    "customer_name": "John",\n    "customer_email": "[REDACTED]",\n    "card_last4": "****",\n    "api_response": "[TRUNCATED]"\n  }\n}\n')),(0,i.yg)("h3",{id:"output-audit"},"Output Audit"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"All outputs logged:\n  - What: Task output\n  - Who: Which user/service called task\n  - When: Timestamp\n  - Why: Task purpose\n  - How much: Data volume\n  \nRetention: 90 days\nQuery: Authorized users only\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"compliance"},"Compliance"),(0,i.yg)("h3",{id:"standards-supported"},"Standards Supported"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"GDPR"),": Privacy-by-design, data minimization"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"HIPAA"),": Encryption, audit logs, access controls"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"PCI-DSS"),": Secure credential handling"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"SOC 2"),": Security controls, availability, confidentiality"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"ISO 27001"),": Information security management")),(0,i.yg)("h3",{id:"audit-capabilities"},"Audit Capabilities"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"# Generate audit report\neyeflow-cli audit-report \\\n  --start 2024-01-01 \\\n  --end 2024-01-31 \\\n  --service slack,postgresql \\\n  --user admin\n\nOutput: Compliance audit report (PDF)\n  - All services called\n  - All data accessed\n  - All users involved\n  - All security events\n  - Regulatory framework: SOC 2, GDPR, etc.\n")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"testing--verification"},"Testing & Verification"),(0,i.yg)("h3",{id:"security-testing"},"Security Testing"),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Automated tests")," (weekly):"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Injection attack tests (100+ patterns)"),(0,i.yg)("li",{parentName:"ol"},"Privilege escalation tests"),(0,i.yg)("li",{parentName:"ol"},"Resource exhaustion tests"),(0,i.yg)("li",{parentName:"ol"},"Data exfiltration tests"),(0,i.yg)("li",{parentName:"ol"},"Side-channel tests")),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Manual reviews")," (quarterly):"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Code review (security focus)"),(0,i.yg)("li",{parentName:"ol"},"Penetration testing"),(0,i.yg)("li",{parentName:"ol"},"Vulnerability assessment"),(0,i.yg)("li",{parentName:"ol"},"Architecture review")),(0,i.yg)("p",null,"Results: Published at ",(0,i.yg)("a",{parentName:"p",href:"https://security.eyeflow.sh"},"https://security.eyeflow.sh")),(0,i.yg)("hr",null),(0,i.yg)("h2",{id:"roadmap-security-v30"},"Roadmap: Security v3.0"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Hardware-backed attestation"),": Prove code hasn't been modified"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Confidential computing"),": Intel SGX enclave support"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Zero-knowledge proofs"),": Prove security properties without revealing details"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"Continuous security monitoring"),": Real-time threat detection")))}u.isMDXComponent=!0}}]);